(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{16:function(t,e,o){},19:function(t,e,o){},21:function(t,e,o){},25:function(t,e,o){},26:function(t,e,o){},27:function(t,e,o){},28:function(t,e,o){"use strict";o.r(e);var n=o(2),c=o.n(n),i=o(9),s=o.n(i),l=(o(16),o(17),o(18),o(19),o(0)),a=function(){return Object(l.jsx)("header",{className:"todo-header",children:Object(l.jsx)("h1",{className:"todo-header__title",children:"TODOS"})})},r=o(4),u=o(11),d=o(3),f=(o(21),o(5)),j=o.n(f),b=o(10),m=Object(n.createContext)(null),O=function(t){var e=t.children,o=Object(n.useState)([]),c=Object(d.a)(o,2),i=c[0],s=c[1],a=Object(n.useState)([]),r=Object(d.a)(a,2),u=r[0],f=r[1];return Object(n.useEffect)((function(){s(JSON.parse(localStorage.todos))}),[]),Object(n.useEffect)((function(){f(i),localStorage.setItem("todos",JSON.stringify(i))}),[i]),Object(l.jsx)(m.Provider,{value:{todos:i,setTodos:s,filteredTodos:u,setFilteredTodos:f},children:e})},p=function(){return Object(n.useContext)(m)},h=function(){var t=Object(n.useState)(""),e=Object(d.a)(t,2),o=e[0],c=e[1],i=Object(n.useState)(!1),s=Object(d.a)(i,2),a=s[0],f=s[1],m=Object(n.useRef)(null),O=p(),h=null===O||void 0===O?void 0:O.todos,_=null===O||void 0===O?void 0:O.setTodos,x=h&&h.filter((function(t){return!0===t.completed})).length;Object(n.useEffect)((function(){m.current&&m.current.focus()}),[]);var v=function(){o&&h&&_&&(_([].concat(Object(u.a)(h),[{id:Date.now(),title:o,completed:!1}])),c(""))};return Object(n.useEffect)((function(){h&&_&&_(h.map((function(t){return Object(r.a)(Object(r.a)({},t),{},{completed:a})})))}),[a]),Object(l.jsxs)("form",{className:"todo-form",onSubmit:function(t){t.preventDefault(),v()},style:h&&h.length>0?{marginBottom:"24px"}:{marginBottom:"0"},children:[h&&h.length>0&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{type:"button",onClick:function(){return f(!a)},className:j()("todo-form__button",{"todo-form__button--left":h.length!==x,"todo-form__button--left todo-form__button--left--toggled":h.length===x}),"data-tip":!0,"data-for":"toggleAllTip",children:Object(l.jsx)("i",{className:"fa-solid fa-check todo-form__icon"})}),Object(l.jsx)(b.a,{id:"toggleAllTip",place:"top",effect:"solid",children:a?"Unselect all":"Select all"})]}),Object(l.jsx)("input",{type:"text",value:o,onChange:function(t){c(t.target.value)},onKeyDown:function(t){"Enter"===t.key&&(t.preventDefault(),v())},ref:m,placeholder:"Type your todo here...",className:"todo-form__input input is-success"}),o.length>0&&Object(l.jsx)("button",{type:"submit",className:"todo-form__button todo-form__button--right button is-success",children:Object(l.jsx)("i",{className:"fa-solid fa-plus todo-form__icon"})})]})},_=(o(25),o(26),function(t){var e=t.id,o=t.title,c=t.completed,i=Object(n.useState)(!1),s=Object(d.a)(i,2),a=s[0],u=s[1],f=Object(n.useState)(o),b=Object(d.a)(f,2),m=b[0],O=b[1],h=Object(n.useState)(m),_=Object(d.a)(h,2),x=_[0],v=_[1],g=p(),N=null===g||void 0===g?void 0:g.todos,y=null===g||void 0===g?void 0:g.setTodos,S=function(t){N&&y&&y(N.filter((function(e){return e.id!==t})))},k=function(t){N&&y&&y(N.map((function(e){return e.id===t?Object(r.a)(Object(r.a)({},e),{},{completed:!e.completed}):e})))};return Object(l.jsxs)("li",{className:"todo-item",children:[Object(l.jsxs)("div",{className:"todo-item__part todo-item__part--left",children:[Object(l.jsx)("input",{id:e.toString(),type:"checkbox",checked:c,onChange:function(){return k&&k(e)},className:"todo-item__checkbox"}),a?Object(l.jsx)("input",{type:"text",value:x,onKeyDown:function(t){switch(t.key){case"Enter":t.preventDefault(),O(x),u(!1),o=e,N&&y&&y(N.map((function(t){return t.id===o?Object(r.a)(Object(r.a)({},t),{},{title:x}):t})));break;case"Escape":v(m),u(!1);break;default:u(!0)}var o},onChange:function(t){return v(t.target.value)},onBlur:function(){v(m),u(!1)},className:"todo-item__input input",autoFocus:!0}):Object(l.jsx)("label",{htmlFor:e.toString(),children:Object(l.jsx)("p",{className:j()("todo-item__title",{"todo-item__title--completed":c}),children:m})})]}),Object(l.jsxs)("div",{className:"todo-item__part todo-item__part--right",children:[Object(l.jsx)("button",{type:"button",onClick:function(){return u(!0)},className:"todo-item__button todo-item__button--edit button is-info is-small",disabled:a,children:Object(l.jsx)("i",{className:"fas fa-pencil"})}),Object(l.jsx)("button",{type:"button",onClick:function(){return S&&S(e)},className:"todo-item__button button is-small is-danger",children:Object(l.jsx)("i",{className:"fas fa-trash"})})]})]})}),x=function(){var t=p(),e=null===t||void 0===t?void 0:t.filteredTodos;return Object(l.jsx)(l.Fragment,{children:e&&e.length>0&&Object(l.jsx)("ul",{className:"todo-list",children:e&&e.map((function(t){return Object(l.jsx)(_,Object(r.a)({},t),t.id)}))})})},v=(o(27),function(){var t=Object(n.useState)("All"),e=Object(d.a)(t,2),o=e[0],c=e[1],i=p(),s=null===i||void 0===i?void 0:i.todos,a=null===i||void 0===i?void 0:i.setFilteredTodos;Object(n.useEffect)((function(){c("All")}),[s]);return Object(n.useEffect)((function(){!function(t){if(s&&a)switch(t){case"Completed":a(s.filter((function(t){return!0===t.completed})));break;case"Active":a(s.filter((function(t){return!0!==t.completed})));break;default:a(s)}}(o)}),[o]),Object(l.jsx)("div",{className:"todo-footer__filter if-flex ",children:["All","Active","Completed"].map((function(t){return Object(l.jsx)("button",{type:"button",onClick:function(){return c(t)},className:j()("button is-small is-success is-outlined",{"is-focused":o===t}),children:t},t)}))})}),g=function(){var t=p(),e=null===t||void 0===t?void 0:t.todos,o=null===t||void 0===t?void 0:t.setTodos,n=e&&e.filter((function(t){return!1===t.completed})).length,c=e&&e.filter((function(t){return!0===t.completed})).length;return Object(l.jsx)(l.Fragment,{children:e&&e.length>0&&Object(l.jsxs)("div",{className:"todo-addition",children:[Object(l.jsx)("span",{className:"todo-addition__count",children:"".concat(n,1===n?" todo left":" todos left")}),Object(l.jsx)(v,{}),Object(l.jsx)("button",{type:"button",onClick:function(){e&&o&&o(e.filter((function(t){return!1===t.completed})))},className:"button is-small is-danger",disabled:!c,children:"Delete completed"})]})})},N=function(){return Object(l.jsx)(O,{children:Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(a,{}),Object(l.jsxs)("div",{className:"app__todos",children:[Object(l.jsx)(h,{}),Object(l.jsx)(x,{}),Object(l.jsx)(g,{})]})]})})};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.3e6b7858.chunk.js.map